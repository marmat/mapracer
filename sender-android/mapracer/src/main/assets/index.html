<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <style>
        html, body, #view {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        }
    </style>

    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script>
            function onLoad() {
                var position = window.location.hash.substring(1).split(',');
                var options = {
                    disableDefaultUI: true,
                    clickToGo: false,
                    linksControl: true,
                    position: new google.maps.LatLng(position[0], position[1]),
                    visible: true,
                    zoom: 1
                };

                window.streetView = new google.maps.StreetViewPanorama(
                    document.getElementById('view'),
                    options);

                google.maps.event.addListener(streetView, 'position_changed', onPositionChanged);
            }

            function onPositionChanged() {
                var position = streetView.getPosition();
                var payload = {
                    type: 'position',
                    location: {lat: position.lat(), lng: position.lng()}
                };

                if (!!window['AndroidCast']) {
                    AndroidCast.sendMessage(JSON.stringify(payload));
                }
            }

    </script>
</head>

<body onload="onLoad()">
<div id="view"></div>
</body>
</html>